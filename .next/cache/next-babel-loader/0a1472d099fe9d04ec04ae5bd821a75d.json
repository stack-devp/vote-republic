{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/stack/prod/voterepublic/vote-republic/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\n\nHomePage.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var req, query, protocol, host, pageRequest, res, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref.req, query = _ref.query;\n            protocol = req ? \"\".concat(req.headers['x-forwarded-proto'], \":\") : location.protocol;\n            host = req ? req.headers['x-forwarded-host'] : location.host;\n            pageRequest = \"https://9d6a8954f77b.ngrok.io/api/profiles?page=\".concat(query.page || 1, \"&limit=\").concat(query.limit || 9);\n            _context.next = 6;\n            return fetch(pageRequest);\n\n          case 6:\n            res = _context.sent;\n            _context.next = 9;\n            return res.json();\n\n          case 9:\n            json = _context.sent;\n            return _context.abrupt(\"return\", json);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nfunction HomePage(_ref3) {\n  var profiles = _ref3.profiles,\n      page = _ref3.page,\n      pageCount = _ref3.pageCount;\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, \"Hello\"));\n}\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/stack/prod/voterepublic/vote-republic/pages/index.js"],"names":["fetch","Link","HomePage","getInitialProps","req","query","protocol","headers","location","host","pageRequest","page","limit","res","json","profiles","pageCount"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAEAC,QAAQ,CAACC,eAAT;AAAA,uEAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,QAASA,GAAT,EAAcC,KAAd,QAAcA,KAAd;AACnBC,YAAAA,QADmB,GACRF,GAAG,aACbA,GAAG,CAACG,OAAJ,CAAY,mBAAZ,CADa,SAEhBC,QAAQ,CAACF,QAHY;AAInBG,YAAAA,IAJmB,GAIZL,GAAG,GAAGA,GAAG,CAACG,OAAJ,CAAY,kBAAZ,CAAH,GAAqCC,QAAQ,CAACC,IAJrC;AAKnBC,YAAAA,WALmB,6DAK8CL,KAAK,CAACM,IAAN,IACrE,CANuB,oBAMZN,KAAK,CAACO,KAAN,IAAe,CANH;AAAA;AAAA,mBAOPZ,KAAK,CAACU,WAAD,CAPE;;AAAA;AAOnBG,YAAAA,GAPmB;AAAA;AAAA,mBAQNA,GAAG,CAACC,IAAJ,EARM;;AAAA;AAQnBA,YAAAA,IARmB;AAAA,6CASlBA,IATkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAAA;AAAA;AAAA;AAAA;;AAYA,SAASZ,QAAT,QAAiD;AAAA,MAA7Ba,QAA6B,SAA7BA,QAA6B;AAAA,MAAnBJ,IAAmB,SAAnBA,IAAmB;AAAA,MAAbK,SAAa,SAAbA,SAAa;AAC/C,SACE,4BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,CADF;AA6BD;;KA9BQd,Q;AAgCT,eAAeA,QAAf","sourcesContent":["import fetch from 'isomorphic-unfetch'\nimport Link from 'next/link'\n\nHomePage.getInitialProps = async ({ req, query }) => {\n  const protocol = req\n    ? `${req.headers['x-forwarded-proto']}:`\n    : location.protocol\n  const host = req ? req.headers['x-forwarded-host'] : location.host\n  const pageRequest = `https://9d6a8954f77b.ngrok.io/api/profiles?page=${query.page ||\n    1}&limit=${query.limit || 9}`\n  const res = await fetch(pageRequest)\n  const json = await res.json()\n  return json\n}\n\nfunction HomePage({ profiles, page, pageCount }) {\n  return (\n    <>\n    <span>Hello</span>\n      {/* <ul>\n        {profiles.map(p => (\n          <li className=\"profile\" key={p.id}>\n            <Link href={`/profile?id=${p.id}`}>\n              <a>\n                <img src={p.avatar} />\n                <span>{p.name}</span>\n              </a>\n            </Link>\n          </li>\n        ))}\n      </ul>\n      <nav>\n        {page > 1 && (\n          <Link href={`/?page=${page - 1}&limit=9`}>\n            <a>Previous</a>\n          </Link>\n        )}\n        {page < pageCount && (\n          <Link href={`/?page=${page + 1}&limit=9`}>\n            <a className=\"next\">Next</a>\n          </Link>\n        )}\n      </nav> */}\n    </>\n  )\n}\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}